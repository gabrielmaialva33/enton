services:
  qdrant:
    image: qdrant/qdrant:latest
    ports: ["6333:6333", "6334:6334"]
    volumes: [qdrant_data:/qdrant/storage]
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    ports: ["6379:6379"]
    volumes: [redis_data:/data]
    restart: unless-stopped

  rabbitmq:
    image: rabbitmq:4-management-alpine
    ports: ["5672:5672", "15672:15672"]
    environment:
      RABBITMQ_DEFAULT_USER: ${RABBITMQ_DEFAULT_USER:-enton}
      RABBITMQ_DEFAULT_PASS: ${RABBITMQ_DEFAULT_PASS:-enton}
    restart: unless-stopped

  timescaledb:
    image: timescale/timescaledb:latest-pg16
    ports: ["5432:5432"]
    environment:
      POSTGRES_USER: ${POSTGRES_USER:-enton}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-enton}
      POSTGRES_DB: ${POSTGRES_DB:-enton}
    volumes: [timescale_data:/var/lib/postgresql/data]
    restart: unless-stopped

volumes:
  qdrant_data:
  redis_data:
  timescale_data:
